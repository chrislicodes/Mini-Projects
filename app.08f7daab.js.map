{"version":3,"sources":["src/ts/entities/generateUUID.ts","src/ts/entities/Todo.ts","src/ts/entities/Bucket.ts","src/ts/components/model.ts","src/ts/components/views/todoView.ts","src/ts/components/views/bucketView.ts","src/ts/components/controller.ts","src/app.ts"],"names":[],"mappings":"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","file":"app.08f7daab.js","sourceRoot":"..","sourcesContent":["export const generateUUID = function (): string {\r\n  return \"_\" + Math.random().toString(36).substr(2, 9);\r\n};\r\n","import { generateUUID } from \"./generateUUID\";\r\n\r\nexport class Todo {\r\n  /**\r\n   * Represents a single Todo\r\n   * @param title {string} - title of the todo\r\n   * @param description {string} - description of the todo\r\n   */\r\n  #uuid: string;\r\n  #title: string;\r\n  #description: string;\r\n\r\n  constructor(\r\n    title: string,\r\n    description: string,\r\n    uuid: string = generateUUID()\r\n  ) {\r\n    this.#title = title;\r\n    this.#description = description;\r\n    this.#uuid = uuid;\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      uuid: this.#uuid,\r\n      title: this.#title,\r\n      description: this.#description,\r\n    };\r\n  }\r\n\r\n  get title() {\r\n    return this.#title;\r\n  }\r\n\r\n  get uuid() {\r\n    return this.#uuid;\r\n  }\r\n\r\n  get description() {\r\n    return this.#description;\r\n  }\r\n\r\n  set description(newDescription: string) {\r\n    this.#description = newDescription;\r\n  }\r\n\r\n  set title(newTitle: string) {\r\n    this.#title = newTitle;\r\n  }\r\n}\r\n","import { Todo } from \"./Todo\";\r\nimport { generateUUID } from \"./generateUUID\";\r\n\r\nexport class Bucket {\r\n  #uuid: string;\r\n  #category: string;\r\n  #items: Todo[];\r\n\r\n  constructor(\r\n    category: string,\r\n    items: Todo[] = [],\r\n    uuid: string = generateUUID()\r\n  ) {\r\n    this.#category = category;\r\n    this.#items = items;\r\n    this.#uuid = uuid;\r\n  }\r\n\r\n  addItemToBucket(this: Bucket, todo: Todo, toFront = false) {\r\n    if (!toFront) this.#items = [...this.#items, todo];\r\n    if (toFront) this.#items = [todo, ...this.#items];\r\n  }\r\n\r\n  removeItemFromBucket(uuid: string) {\r\n    this.#items = this.#items.filter((todo) => todo.uuid !== uuid);\r\n  }\r\n\r\n  toJSON() {\r\n    return {\r\n      uuid: this.#uuid,\r\n      category: this.#category,\r\n      items: this.#items.map((todo) => todo.toJSON()),\r\n    };\r\n  }\r\n\r\n  set category(newCategory: string) {\r\n    this.#category = newCategory;\r\n  }\r\n\r\n  get uuid() {\r\n    return this.#uuid;\r\n  }\r\n\r\n  get items() {\r\n    return this.#items;\r\n  }\r\n\r\n  get category() {\r\n    return this.#category;\r\n  }\r\n}\r\n","import { Todo } from \"../entities/Todo\";\r\nimport { Bucket } from \"../entities/Bucket\";\r\n\r\ntype AppState = {\r\n  buckets: Bucket[];\r\n};\r\n\r\nexport default class Model {\r\n  #state: AppState = {\r\n    buckets: [], //replace with HashMap\r\n  };\r\n\r\n  addBucket(\r\n    this: Model,\r\n    category: string = \"New Bucket\",\r\n    items: Todo[] = [],\r\n    uuid?: string\r\n  ): Bucket {\r\n    /**\r\n     * Adds a bucket to the model\r\n     * @param title {string} - title of the container\r\n     * @param items {Todo[]} - array of Todo items\r\n     */\r\n    const newBucket = new Bucket(category, items, uuid);\r\n    this.#state.buckets = [...this.#state.buckets, newBucket];\r\n\r\n    this.setLocalStorageData();\r\n    return newBucket;\r\n  }\r\n\r\n  get buckets(): Bucket[] {\r\n    return this.#state.buckets;\r\n  }\r\n\r\n  private _findBucket(this: Model, bucketID: string): Bucket {\r\n    return this.#state.buckets.find((bucket) => bucket.uuid === bucketID);\r\n  }\r\n\r\n  private _findTodo(this: Model, bucket: Bucket, todoID: string) {\r\n    return bucket.items.find((todo) => todo.uuid === todoID);\r\n  }\r\n\r\n  setLocalStorageData(): void {\r\n    localStorage.setItem(\r\n      \"buckets\",\r\n      JSON.stringify(this.buckets.map((bucket) => bucket.toJSON()))\r\n    );\r\n  }\r\n\r\n  getLocalStorageData(this: Model): void {\r\n    const buckets = JSON.parse(localStorage.getItem(\"buckets\"));\r\n\r\n    if (!buckets) {\r\n      //add first bucket if there is no data in localStorage\r\n      this.addBucket();\r\n    } else {\r\n      //initialize the Bucket and Todo Objects\r\n      buckets.forEach((bucket: Bucket) =>\r\n        this.addBucket(\r\n          bucket.category,\r\n          bucket.items.map(\r\n            (todo) => new Todo(todo.title, todo.description, todo.uuid)\r\n          ),\r\n          bucket.uuid\r\n        )\r\n      );\r\n    }\r\n  }\r\n\r\n  addTodoToBucket(\r\n    this: Model,\r\n    bucketID: string,\r\n    todoTitle: string = \"New Todo\",\r\n    todoDescription: string = \"Todo Description\"\r\n  ): Todo {\r\n    const targetBucket = this._findBucket(bucketID);\r\n    const newTodo = new Todo(todoTitle, todoDescription);\r\n\r\n    targetBucket.addItemToBucket(newTodo, true);\r\n\r\n    this.setLocalStorageData();\r\n    return newTodo;\r\n  }\r\n\r\n  removeTodoFromBucket(this: Model, bucketID: string, todoID: string): void {\r\n    const targetBucket = this._findBucket(bucketID);\r\n    targetBucket.removeItemFromBucket(todoID);\r\n\r\n    this.setLocalStorageData();\r\n  }\r\n\r\n  changeBucketTitle(this: Model, bucketID: string, newTitle: string): void {\r\n    const targetBucket = this._findBucket(bucketID);\r\n    targetBucket.category = newTitle;\r\n    this.setLocalStorageData();\r\n  }\r\n\r\n  changeTodoTitle(\r\n    this: Model,\r\n    bucketID: string,\r\n    todoID: string,\r\n    newTitle: string\r\n  ): void {\r\n    const targetBucket = this._findBucket(bucketID);\r\n    const targetTodo = this._findTodo(targetBucket, todoID);\r\n    targetTodo.title = newTitle;\r\n\r\n    this.setLocalStorageData();\r\n  }\r\n\r\n  changeTodoDescription(\r\n    this: Model,\r\n    bucketID: string,\r\n    todoID: string,\r\n    newDescription: string\r\n  ): void {\r\n    const targetBucket = this._findBucket(bucketID);\r\n    const targetTodo = this._findTodo(targetBucket, todoID);\r\n    targetTodo.description = newDescription;\r\n\r\n    this.setLocalStorageData();\r\n  }\r\n\r\n  moveTodoToAnotherBucket(\r\n    this: Model,\r\n    bucketID: string,\r\n    todoID: string,\r\n    targetBucketID: string\r\n  ) {\r\n    const originBucket = this._findBucket(bucketID);\r\n    const todo = originBucket.items.find((todo) => todo.uuid === todoID);\r\n    const targetBucket = this._findBucket(targetBucketID);\r\n\r\n    originBucket.removeItemFromBucket(todo.uuid);\r\n    targetBucket.addItemToBucket(todo);\r\n\r\n    this.setLocalStorageData();\r\n  }\r\n}\r\n","import { Todo } from \"../../entities/Todo\";\r\nimport icons from \"../../../img/sprites.svg\";\r\n\r\nexport default class TodoView {\r\n  render(todoObj: Todo): string {\r\n    /**\r\n     * renders todo object to the dom\r\n     * @param todoObj {Todo} - todo - Object created with Todo class\r\n     */\r\n    if (!todoObj) return;\r\n\r\n    const markup = this._generateMarkup(todoObj);\r\n\r\n    return markup;\r\n  }\r\n\r\n  _generateMarkup(todoObj: Todo) {\r\n    /**\r\n     * generates the markup to render the todo\r\n     * @param todoObj {Todo} - todo - Object created with Todo class\r\n     */\r\n    const { uuid, title, description } = todoObj;\r\n\r\n    return `\r\n    <article class=\"card-item\" data-uuid=${uuid} draggable=\"true\">\r\n        <div class=\"card-item__header\">\r\n            <h3 class=\"card-item__title\" contenteditable=\"true\">${title}</h3>\r\n            <div class=\"card-item__buttons\">\r\n                <button type=\"submit\" data-tag=\"delete\" class=\"btn-delete\">\r\n                    <svg>\r\n                        <use xlink:href=\"${icons}#icon-bin\"></use>\r\n                    </svg>\r\n                </button>\r\n            </div>\r\n        </div>\r\n        <p class=\"card-item__description\" contenteditable=\"true\">${description}</p>\r\n    </article>`;\r\n  }\r\n}\r\n","import { Bucket } from \"../../entities/Bucket\";\r\nimport { Todo } from \"../../entities/Todo\";\r\nimport TodoView from \"./todoView\";\r\nimport icons from \"../../../img/sprites.svg\";\r\n\r\nexport default class BucketView {\r\n  #parent = document.querySelector(\".container-grid\");\r\n  #todoView = new TodoView();\r\n\r\n  render(bucketObj: Bucket): void {\r\n    /**\r\n     * renders bucket object to the dom\r\n     * @param bucketObj {Bucket} - bucketObj\r\n     */\r\n    if (!bucketObj) return;\r\n\r\n    const markup = this._generateMarkup(bucketObj);\r\n\r\n    this.#parent.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n\r\n  _generateMarkup(bucketObj: Bucket): string {\r\n    /**\r\n     * generates the markup to render the bucket\r\n     * @param bucketObj {Bucket} - bucketObj\r\n     */\r\n    const { uuid, category, items } = bucketObj;\r\n\r\n    return `\r\n    <section class=\"task-container\" data-uuid=${uuid} >\r\n      <header class=\"task-container__header\">\r\n          <div class=\"container-info\">\r\n              <h2 class=\"task-headline\" contenteditable=\"true\">${category}</h2>\r\n              <div class=\"task-count\">${items.length}</div>\r\n          </div>\r\n          <button class=\"btn-add\">+</button>\r\n      </header>\r\n      <div class=\"task-container__cards\">\r\n      ${\r\n        items.length > 0\r\n          ? items.map((todo: Todo) => this.#todoView.render(todo)).join(\"\")\r\n          : \"<p>Everything done here!</p>\"\r\n      }\r\n      </div>       \r\n    </section>`;\r\n  }\r\n\r\n  clear(): void {\r\n    /**\r\n     * clears view\r\n     */\r\n    this.#parent.innerHTML = ``;\r\n  }\r\n\r\n  renderAddBucketButton(): void {\r\n    const markup = `\r\n    <button class=\"container-grid__add-container\">\r\n        <svg>\r\n            <use xlink:href=\"${icons}#icon-plus\"></use>\r\n        </svg>\r\n        <p>Add Task - Bucket</p>\r\n    </button>`;\r\n\r\n    this.#parent.insertAdjacentHTML(\"beforeend\", markup);\r\n  }\r\n\r\n  addBucketClickHandler(handler: Function) {\r\n    /**\r\n     * Eventlistener for click on add Bucket button\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    this.#parent.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] !== \"container-grid__add-container\") return;\r\n      e.preventDefault();\r\n      handler();\r\n    });\r\n  }\r\n\r\n  addTodoClickHandler(handler: Function) {\r\n    /**\r\n     * Eventlistener for click on add Todo button\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    this.#parent.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] !== \"btn-add\") return;\r\n      const bucket = target.closest(\".task-container\") as HTMLElement;\r\n      const bucketID = bucket.dataset.uuid;\r\n      handler(bucketID);\r\n    });\r\n  }\r\n\r\n  addTodoClickDeleteHandler(handler: Function) {\r\n    /**\r\n     * Eventlistener for click on delete todo button\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    this.#parent.addEventListener(\"click\", function (e) {\r\n      e.preventDefault();\r\n      const target = e.target as HTMLElement;\r\n      const closestBtn = target.closest(\".btn-delete\");\r\n      if (!closestBtn) return;\r\n\r\n      const bucket = target.closest(\".task-container\") as HTMLElement;\r\n      const bucketID = bucket.dataset.uuid;\r\n\r\n      const todo = target.closest(\".card-item\") as HTMLElement;\r\n      const todoID = todo.dataset.uuid;\r\n\r\n      handler(bucketID, todoID);\r\n    });\r\n  }\r\n\r\n  addBucketTitleChangeHandler(handler: Function) {\r\n    /**\r\n     * Eventlistener for input event for bucket title change\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    this.#parent.addEventListener(\"input\", function (e) {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] !== \"task-headline\") return;\r\n\r\n      const newTitle = target.innerText;\r\n\r\n      const bucket = target.closest(\".task-container\") as HTMLElement;\r\n      const bucketID = bucket.dataset.uuid;\r\n      handler(bucketID, newTitle);\r\n    });\r\n  }\r\n\r\n  private _todoInfoChangeHandler(e: Event, handler: Function) {\r\n    /**\r\n     * Function to process todo change\r\n     * @param e {Event} - fired Event\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    const target = e.target as HTMLElement;\r\n\r\n    const newText = target.innerText;\r\n\r\n    const bucket = target.closest(\".task-container\") as HTMLElement;\r\n    const bucketID = bucket.dataset.uuid;\r\n\r\n    const todo = target.closest(\".card-item\") as HTMLElement;\r\n    const todoID = todo.dataset.uuid;\r\n\r\n    handler(bucketID, todoID, newText);\r\n  }\r\n\r\n  addTodoTitleChangeHandler(handler: Function) {\r\n    this.#parent.addEventListener(\"input\", (e) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] !== \"card-item__title\") return;\r\n\r\n      this._todoInfoChangeHandler(e, handler);\r\n    });\r\n  }\r\n\r\n  addTodoDescriptionChangeHandler(handler: Function) {\r\n    this.#parent.addEventListener(\"input\", (e) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] !== \"card-item__description\") return;\r\n\r\n      this._todoInfoChangeHandler(e, handler);\r\n    });\r\n  }\r\n\r\n  // Drag and Drop Eventhandler\r\n\r\n  addDragDropHandler(handler: Function) {\r\n    this._addDragStartHandler();\r\n    this._addDragEndHandler();\r\n    this._addDragOverHandler();\r\n    this._addDragEnterHandler();\r\n    this._addDragLeaveHandler();\r\n    this._addDropHandler(handler);\r\n  }\r\n\r\n  private _addDragStartHandler() {\r\n    /**\r\n     * Connecting Data to the drag event at start\r\n     */\r\n    this.#parent.addEventListener(\r\n      \"dragstart\",\r\n      (e: DragEvent) => {\r\n        const todo = e.target as HTMLElement;\r\n        const todoID = todo.dataset.uuid;\r\n\r\n        const bucket = todo.closest(\".task-container\") as HTMLElement;\r\n        const bucketID = bucket.dataset.uuid;\r\n\r\n        todo.style.opacity = \"0.3\";\r\n        e.dataTransfer.effectAllowed = \"move\";\r\n        e.dataTransfer.setData(\"text/plain\", `${bucketID}, ${todoID}`);\r\n      },\r\n      false\r\n    );\r\n  }\r\n\r\n  private _addDragEndHandler() {\r\n    /**\r\n     * Restore old styles\r\n     */\r\n    this.#parent.addEventListener(\"dragend\", (e: DragEvent) => {\r\n      const todo = e.target as HTMLElement;\r\n      todo.style.opacity = \"1\";\r\n    });\r\n  }\r\n\r\n  private _addDragOverHandler() {\r\n    /**\r\n     * prevent Default signals possible dropareas\r\n     */\r\n    this.#parent.addEventListener(\"dragover\", (e: DragEvent) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] === \"task-container__cards\") {\r\n        e.preventDefault();\r\n        e.dataTransfer.dropEffect = \"move\";\r\n      }\r\n    });\r\n  }\r\n\r\n  private _addDragEnterHandler() {\r\n    /**\r\n     * prevent Default signals possible dropareas\r\n     */\r\n    this.#parent.addEventListener(\"dragenter\", (e: DragEvent) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] === \"task-container__cards\") {\r\n        e.preventDefault();\r\n        target.classList.add(\"task-container__cards-entered\");\r\n      }\r\n    });\r\n  }\r\n\r\n  private _addDragLeaveHandler() {\r\n    /**\r\n     * restore old styles\r\n     */\r\n    this.#parent.addEventListener(\"dragleave\", (e: DragEvent) => {\r\n      const target = e.target as HTMLElement;\r\n      if (target.classList[0] === \"task-container__cards\") {\r\n        e.preventDefault();\r\n        target.classList.remove(\"task-container__cards-entered\");\r\n      }\r\n    });\r\n  }\r\n\r\n  private _addDropHandler(handler: Function) {\r\n    /**\r\n     * manage drop event\r\n     * @param handler {Function} - Function which responds to the Event\r\n     */\r\n    this.#parent.addEventListener(\"drop\", (e: DragEvent) => {\r\n      e.preventDefault();\r\n      const target = e.target as HTMLElement;\r\n      const targetBucket = target.closest(\".task-container\") as HTMLElement;\r\n      const targetBucketID = targetBucket.dataset.uuid;\r\n      const [bucketID, todoID] = e.dataTransfer\r\n        .getData(\"text/plain\")\r\n        .split(\",\")\r\n        .map((item) => item.replace(\" \", \"\"));\r\n\r\n      target.classList.remove(\"task-container__cards-entered\");\r\n      handler(bucketID, todoID, targetBucketID);\r\n    });\r\n  }\r\n}\r\n","import Model from \"./model\";\r\nimport BucketView from \"./views/bucketView\";\r\n\r\nexport default class Controller {\r\n  #model = new Model();\r\n  #view = new BucketView();\r\n\r\n  init(this: Controller): void {\r\n    //check for, load, render stored data\r\n    this.#model.getLocalStorageData();\r\n    this._renderBuckets();\r\n\r\n    //subscribe to events\r\n    this.#view.addBucketClickHandler(this.addNewBucket.bind(this));\r\n    this.#view.addTodoClickHandler(this.addNewTodoToBucket.bind(this));\r\n    this.#view.addTodoClickDeleteHandler(this.removeTodoFromBucket.bind(this));\r\n    this.#view.addBucketTitleChangeHandler(\r\n      this.handleBucketTitleChange.bind(this)\r\n    );\r\n    this.#view.addTodoTitleChangeHandler(this.handleTodoTitleChange.bind(this));\r\n    this.#view.addTodoDescriptionChangeHandler(\r\n      this.handleTodoDescriptionChange.bind(this)\r\n    );\r\n    this.#view.addDragDropHandler(this.handleDragAndDrop.bind(this));\r\n  }\r\n\r\n  _renderBuckets(this: Controller): void {\r\n    this.#view.clear();\r\n    this.#model.buckets.forEach((bucket) => this.#view.render(bucket));\r\n    this.#view.renderAddBucketButton();\r\n  }\r\n\r\n  addNewBucket(this: Controller): void {\r\n    this.#model.addBucket();\r\n    this._renderBuckets();\r\n  }\r\n\r\n  addNewTodoToBucket(this: Controller, bucketID: string): void {\r\n    this.#model.addTodoToBucket(bucketID);\r\n    this._renderBuckets();\r\n  }\r\n\r\n  removeTodoFromBucket(\r\n    this: Controller,\r\n    bucketID: string,\r\n    todoID: string\r\n  ): void {\r\n    this.#model.removeTodoFromBucket(bucketID, todoID);\r\n    this._renderBuckets();\r\n  }\r\n\r\n  handleBucketTitleChange(\r\n    this: Controller,\r\n    bucketID: string,\r\n    newTitle: string\r\n  ): void {\r\n    this.#model.changeBucketTitle(bucketID, newTitle);\r\n  }\r\n\r\n  handleTodoTitleChange(\r\n    this: Controller,\r\n    bucketID: string,\r\n    todoID: string,\r\n    newTitle: string\r\n  ): void {\r\n    this.#model.changeTodoTitle(bucketID, todoID, newTitle);\r\n  }\r\n\r\n  handleTodoDescriptionChange(\r\n    this: Controller,\r\n    bucketID: string,\r\n    todoID: string,\r\n    newDescription: string\r\n  ): void {\r\n    this.#model.changeTodoDescription(bucketID, todoID, newDescription);\r\n  }\r\n\r\n  handleDragAndDrop(\r\n    this: Controller,\r\n    bucketID: string,\r\n    todoID: string,\r\n    targetBucketID: string\r\n  ) {\r\n    if (bucketID !== targetBucketID) {\r\n      this.#model.moveTodoToAnotherBucket(bucketID, todoID, targetBucketID);\r\n      this._renderBuckets();\r\n    }\r\n  }\r\n}\r\n","import Controller from \"./ts/components/controller\";\r\n\r\nconst controller = new Controller();\r\ncontroller.init();\r\n"]}